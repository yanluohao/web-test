<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <style type="text/css">
    .container1 {
        width: 400px;
        height: 400px;
        float: left;
        margin: 100px 0 0 100px;
        border: 1px solid #ccc;
        position: relative;
        cursor: pointer;
    }
    
    .container2 {
        width: 400px;
        height: 400px;
        float: left;
        margin: 100px 0 0 100px;
        border: 1px solid #ccc;
        position: relative;
        cursor: pointer;
    }
    
    .pointer {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        border: 2px solid #ccc;
        /*background: #999;*/
        position: absolute;
        transform: translate(-50%, -50%);
        display: none;
    }
    
    .roundred {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        /*border: 2px solid red;*/
        box-sizing: border-box;
        position: absolute;
        transform: translate(-50%, -50%);
    }
    </style>
</head>

<body>
    <div class="container1">
        <!-- <div style="margin:80px 0 0 80px;width:40px;height:40px;border:1px solid #ccc;box-sizing:border-box"></div> -->
    </div>
    <div class="container2"></div>
    <script type="text/javascript" src="../commonJS/jquery.js"></script>
    <script type="text/javascript">
    //鼠标位置对齐
    var container1 = $(".container1");
    var obj_x = container1.offset().left;
    obj_y = container1.offset().top;
    var container2 = $(".container2");
    obj2_x = container2.offset().left;
    obj2_y = container2.offset().top;

    //鼠标位置对齐

    container1.mouseover(function() {
        var e = event || window.event;
        document.onmousemove = function(e) {
            var pointerContent = "<div class='pointer'></div>";
            if (!$("div").hasClass("pointer")) {
                container2.append(pointerContent);
            }
            var mouse_x = e.pageX;
            mouse_y = e.pageY;
            var mouse_rela_x = mouse_x - obj_x;
            mouse_rela_y = mouse_y - obj_y;
            var content = "<div class='roundred roundred1'></div>";
            var content2 = "<div class='roundred roundred2'></div>";
            $(".pointer").css({
                "top": mouse_rela_y,
                "display": "block",
                "left": mouse_rela_x
            });

            function setDifference(difference_x, difference_y, difference_x2, difference_y2, difference_x3, difference_y3) {
                var roundred1 = $(".roundred1");
                var roundred2 = $(".roundred2");
                var roundred = $(".roundred");
                if (roundred1.length < 4) {
                    container1.append(content);
                    container2.append(content2);
                    roundred1.eq(0).css({
                        "top": difference_y,
                        "left": difference_x
                    });
                    roundred2.eq(0).css({
                        "top": difference_y,
                        "left": difference_x
                    });
                    roundred1.eq(1).css({
                        "top": difference_y2,
                        "left": difference_x2
                    });
                    roundred2.eq(1).css({
                        "top": difference_y2,
                        "left": difference_x2
                    });
                    roundred1.eq(2).css({
                        "top": difference_y3,
                        "left": difference_x3
                    });
                    roundred2.eq(2).css({
                        "top": difference_y3,
                        "left": difference_x3
                    });
                    roundred1.eq(roundred1.length).remove();
                    roundred.on("click", function() {
                        $(this).css("border", "2px solid red");
                        if ($(this).hasClass("roundred1")) {
                            {
                                $(".roundred2").eq($(this).index()).css("border", "2px solid red");
                            }
                        } else {
                            $(".roundred1").eq($(this).index() - 1).css("border", "2px solid red");
                        }
                    })
                }
            }
            setDifference(100, 100, 200, 200, 300, 300);
        }
    })
    container1.mouseout(function() {
        document.onmousemove = function() {
            $(".pointer").remove();
        }
    });
    container2.mouseover(function() {
        var e = event || window.event;
        document.onmousemove = function(e) {
            var pointerContent = "<div class='pointer'></div>";
            if (!$("div").hasClass("pointer")) {
                container1.append(pointerContent);
            }
            var mouse_x = e.pageX;
            mouse_y = e.pageY;
            var mouse_rela_x = mouse_x - obj2_x;
            mouse_rela_y = mouse_y - obj2_y;
            var content = "<div class='roundred roundred1'></div>";
            var content2 = "<div class='roundred roundred2'></div>";
            $(".pointer").css({
                "top": mouse_rela_y,
                "display": "block",
                "left": mouse_rela_x
            });
            function setDifference(difference_x, difference_y, difference_x2, difference_y2, difference_x3, difference_y3) {
                var roundred1 = $(".roundred1");
                var roundred2 = $(".roundred2");
                var roundred = $(".roundred");
                if (roundred1.length < 4) {
                    container1.append(content);
                    container2.append(content2);
                    roundred1.eq(0).css({
                        "top": difference_y,
                        "left": difference_x
                    });
                    roundred2.eq(0).css({
                        "top": difference_y,
                        "left": difference_x
                    });
                    roundred1.eq(1).css({
                        "top": difference_y2,
                        "left": difference_x2
                    });
                    roundred2.eq(1).css({
                        "top": difference_y2,
                        "left": difference_x2
                    });
                    roundred1.eq(2).css({
                        "top": difference_y3,
                        "left": difference_x3
                    });
                    roundred2.eq(2).css({
                        "top": difference_y3,
                        "left": difference_x3
                    });
                    roundred1.eq(roundred1.length).remove();
                    roundred.on("click", function() {
                        $(this).css("border", "2px solid red");
                        if ($(this).hasClass("roundred1")) {
                            {
                                $(".roundred2").eq($(this).index()).css("border", "2px solid red");
                            }
                        } else {
                            $(".roundred1").eq($(this).index()).css("border", "2px solid red");
                        }
                    })
                }
            }
            setDifference(100, 100, 200, 200, 300, 300);
        }
    })
    container2.mouseout(function() {
        document.onmousemove = function() {
            $(".pointer").remove();
        }
    })
    </script>
</body>

</html>
