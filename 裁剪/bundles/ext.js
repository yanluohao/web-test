function basejs_get_fullname(n){$("."+n).each(function(){var n=$(this);$.get("/Get/EmployeeName",{EmployeeNo:$(n).text()},function(t){$(n).text(t)})})}function basejs_get_branchName(n){$("."+n).each(function(){var n=$(this);$.get("/Get/BranchNameByNumber",{BranchNo:$.trim($(n).text())},function(t){$(n).text(t)})})}function basejs_get_teamName(n){$("."+n).each(function(){var n=$(this);$.get("/Get/TeamNameByNumber",{TeamNo:$.trim($(n).text())},function(t){$(n).text(t)})})}function basejs_get_deptName(n){$("."+n).each(function(){var n=$(this);$.get("/Get/DeptNameByNumber",{DeptNo:$.trim($(n).text())},function(t){$(n).text(t)})})}function basejs_get_postName(n){$("."+n).each(function(){var n=$(this);$.get("/Get/PostNameByNumber",{PostNo:$.trim($(n).text())},function(t){$(n).text(t)})})}function basejs_get_employeePhoto(n){var t="/Content/Images/default.jpg";return $.ajax({async:!1,url:"/Get/EmployeePhoto",data:{EmployeeNo:n},success:function(n){n!=""&&n!=undefined&&(t=n)}}),t}function basejs_format_datetime(n){if(n){var t=new Date(n),r=t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate(),u=t.getUTCHours(),i=t.getUTCMinutes();return i<10&&(i="0"+i),r+" "+u+":"+i}return""}function basejs_format_date(n){if(n){var t=new Date(n);return t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate()}return""}function basejs_format_utcaate(n){if(n){var t=new Date(n);return t.getUTCDate()}return""}function basejs_getUrlParam(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(i);return t!=null?decodeURI(t[2]):null}function basejs_clearNull(n){$(n).each(function(){$(this).text()=="null"&&$(this).text("")})}function basejs_autoRowSpan(n,t,i){for(var u=document.getElementById(n),o="",e="",f=1,r=t;r<u.rows.length;r++)e=u.rows[r].cells[i].innerText,o==e?(u.rows[r].deleteCell(i),u.rows[r-f].cells[i].rowSpan=u.rows[r-f].cells[i].rowSpan+1,f++):(o=e,f=1)}function basejs_mobileFormat(n){var t,r,i;if(n=n.replace(/\s+/g,""),n.length<=11)return n;for(t="",r=n.length/11,i=0;i<r;i++)t+=n.substr(11*(0+i),11*(i+1))+"，";return t.length>1?t.substr(0,t.length-1):t}function format_RecommendState(n){switch(n){case"成功入职":n="<span style='color:#69bd48'>"+n+"<\/span>";break;case"人选放弃":n="<span style='color:#ff7777'>"+n+"<\/span>";break;case"客户否决":n="<span style='color:#ff7777'>"+n+"<\/span>";break;default:n="<span style='color:#000'>"+n+"<\/span>"}return n}function format_ClientState(n,t){switch(n){case"Call In":n="<img src='../../Content/Style/"+t+"/Images/icon-callin.png' />";break;case"主动BD":n="<img src='../../Content/Style/"+t+"/Images/icon-bd.png' />";break;case"机构合作":n="<img src='../../Content/Style/"+t+"/Images/icon-coop.png' />";break;case"人脉推荐":n="<img src='../../Content/Style/"+t+"/Images/icon-reco.png' />"}return n}function basejs_packUpSearch(n,t){var i="收起筛选",r="up",u="style='margin-bottom:1px'";$("#table-search").css("display")!="none"&&(i="展开筛选",r="down",u="style='margin-bottom:3px;'");$("#table-search").slideToggle();$(n).html(i+'<img class="nor-arrow-img" '+u+' src="/Content/Style/'+t+"/Images/arrow_carrot-"+r+'.png" />')}function basejs_seeAll(n,t,i){if($("#"+i).find("a").length!=0){var r="收起",u="up",f="style='margin-bottom:1px'";$("#"+i).css("display")!="none"&&(r="展开",u="down",f="style='margin-bottom:3px;'");$("#"+i).slideToggle();$(n).html(r+'<img class="nor-arrow-img" '+f+' src="/Content/Style/'+t+"/Images/arrow_carrot-"+u+'.png" />')}else alert("当前无更多!")}function createBranchsCondition(n){for(var f="",i=$('[data-id="s-branchNo"]'),e=$(i).width(),r=0,u=jQuery.parseJSON(n),t=0;t<u.length;t++)if(f='<a href="#" class="search-item" data-value="'+u[t].Number+'" onclick="searchItemClick(this)">'+u[t].Name+"<\/a>",$(i).html($(i).html()+f),r+=$(i).find("a").eq(t).width()+10,e<r&&$(i).find("a").eq(t).css("display","none"),e+50<r)break}function createTableBranch(n,t){var i,u,r;for($("#"+n).html(""),i="",t.length>1&&(dataObj=jQuery.parseJSON(t)),u="",i+='<table width="100%"><tr>',r=0;r<dataObj.length;r++)i+='<td class="panel panel-default" data-id="'+dataObj[r].Number+'">',i+='<a href="#" onclick="branchItemClick(\''+dataObj[r].Number+"')\">"+dataObj[r].Name+"<\/a>",i+="<\/td>",r%4==0&&(i+="<\/tr><tr>");i+="<\/tr><\/table>";$(i).appendTo("#"+n)}function createTableBranchList(n,t){var i,u,r;for($("#"+n).html(""),i="",t.length>1&&(dataObj=jQuery.parseJSON(t)),u="",i+='<table width="100%"><tr><td style="text-align:left;">',r=0;r<dataObj.length;r++)i+='<a href="#" class="search-item" style="margin-right:15px;display:inline-block" onclick="branchItemClick(\''+dataObj[r].Number+"')\">"+dataObj[r].Name+"<\/a>";i+="<\/td><\/tr><\/table>";$(i).appendTo("#"+n)}function createBranchAndTeam(n,t,i){var s,u,e;$("#"+n).html("");var r="",f=null,o=null;for(t.length>1&&(f=jQuery.parseJSON(t)),s="",r+='<div class="panel-group" id="accordion">',u=0;u<f.length;u++){if(s="collapse_"+f[u].Number,r+='<div class="panel panel-default" data-id="'+f[u].Number+'">',r+='<div class="panel-heading" style="padding:0px 0px;text-align: right;">',r+='<a href="javascript:;" style="float:left;" onclick="branchItemClick(\''+f[u].Number+"')\">"+f[u].Name+"<\/a>",r+='<a data-toggle="collapse" data-parent="#accordion" href="#'+s+'">展开/折叠<\/a>',r+="<\/div>",r+='<div id="'+s+'" class="panel-collapse collapse">',r+='<div class="panel-body">',i.length>1){for(o=jQuery.parseJSON(i),r+="<table>",e=0;e<o.length;e++)f[u].Number==o[e].BranchNo&&(r+='<tr data-id="'+o[e].Number+'">',r+='<th width="80px;">',r+='<a href="javascript:;" class="search-item" data-branchNo="'+f[u].Number+'" data-branchName="'+f[u].Name+'" data-value="'+o[e].Number+'" onclick="searchItemClick(this)">'+o[e].Name+"<\/a>",r+="<\/th>",r+="<td><\/td>",r+="<\/tr>");r+="<\/table>"}r+="<\/div>";r+="<\/div>";r+="<\/div>"}r+="<\/div>";$(r).appendTo("#"+n)}function createDistrictsCondition(n){for(var f="",i=$('[data-id="s-districtNo"]'),e=$(i).width(),r=0,u=jQuery.parseJSON(n),t=0;t<u.length;t++)if(f='<a href="javascript:;" class="search-item" data-value="'+u[t].Name+'" onclick="searchItemClick(this)">'+u[t].Name+"<\/a>",$(i).html($(i).html()+f),r+=$(i).find("a").eq(t).width()+10,e<r&&$(i).find("a").eq(t).css("display","none"),e+50<r)break}function createIndustriesCondition(n){for(var f="",i=$('[data-id="s-industryNo"]'),e=$(i).width(),r=0,u=jQuery.parseJSON(n),t=0;t<u.length;t++)if(f='<a href="javascript:;" class="search-item" data-value="'+u[t].Id+'" onclick="searchItemClick(this)">'+u[t].Name+"<\/a>",$(i).html($(i).html()+f),r+=$(i).find("a").eq(t).width()+10,e<r&&$(i).find("a").eq(t).css("display","none"),e+50<r)break}function createPositionsCondition(n){for(var f="",i=$('[data-id="s-positionNo"]'),e=$(i).width(),r=0,u=jQuery.parseJSON(n),t=0;t<u.length;t++)if(f='<a href="javascript:;" class="search-item" data-value="'+u[t].Id+'" onclick="searchItemClick(this)">'+u[t].Name+"<\/a>",$(i).html($(i).html()+f),r+=$(i).find("a").eq(t).width()+10,e<r&&$(i).find("a").eq(t).css("display","none"),e+50<r)break}function createTableIndustry(n,t){var r,i,u;for($("#list-industry-table tbody").html(""),r="",i=jQuery.parseJSON(n),u=0;u<i.length;u++)r+='<tr style="border:solid 1px #ccc" class="tr-industryA-'+i[u].Id+'" data-id="'+i[u].Id+'"><th width="150">'+i[u].Name+"<\/th><\/tr>";$(r).appendTo("#list-industry-table tbody");r="";i=jQuery.parseJSON(t);$("#list-industry-table tr[data-id]").each(function(n,t){r="";for(var u=0;u<i.length;u++)$(t).attr("data-id")==i[u].ParentId&&(r+='<a href="javascript:;" class="search-item" style="margin-right:15px;display: inline-block;" onclick="industryItemClick(\''+i[u].Id+"','"+i[u].Name+"')\">"+i[u].Name+"<\/a>");$("<td style='text-align:left;'>"+r+"<\/td>").appendTo("#list-industry-table tr[data-id="+$(t).attr("data-id")+"]")})}function createTablePosition(n){var r,i,t;for($("#list-position-table tbody").html(""),r="",i=jQuery.parseJSON(n),r+="<tr><td align='left'>",t=0;t<i.length;t++)r+='<a href="javascript:;" style="margin-left:20px;display: inline-block;width:200px;" data-id="'+i[t].Id+'" onclick="positionItemClick(\''+i[t].Id+"','"+i[t].Name+"')\">"+i[t].Name+"<\/a>";r+="<\/td><\/tr>";$(r).appendTo("#list-position-table tbody")}function createTableDistrict(n,t){var r,i,u;for($("#list-district-table tbody").html(""),r="",i=jQuery.parseJSON(n),u=0;u<i.length;u++)r+='<tr style="border:solid 1px #ccc" class="tr-cityA-'+i[u].Id+'" data-id="'+i[u].Id+'"><th width="150">'+i[u].Name+"<\/th><\/tr>";$(r).appendTo("#list-district-table tbody");r="";i=jQuery.parseJSON(t);$("#list-district-table tr[data-id]").each(function(n,t){r="";for(var u=0;u<i.length;u++)$(t).attr("data-id")==i[u].ParentId&&(r+='<a href="javascript:;" class="search-item" style="margin-right:15px;" onclick="districtItemClick(\''+i[u].Name+"','"+i[u].Name+"')\">"+i[u].Name+"<\/a>");$("<td style='text-align:left;'>"+r+"<\/td>").appendTo("#list-district-table tr[data-id="+$(t).attr("data-id")+"]")})}function createTableProvince(n){var r,i,u,t;for($("#list-province-table tbody").html(""),r="",i=jQuery.parseJSON(n),r="",u='<tr border:0; data-id="1"><\/tr>',$(u).appendTo("#list-province-table tbody"),t=0;t<i.length;t++)r+='<a href="javascript:;" class="search-item" style="margin-right:15px;" onclick="provinceItemClick(\''+i[t].Id+"','"+i[t].Name+"')\">"+i[t].Name+"<\/a>";$("<td style='text-align:left;'>"+r+"<\/td>").appendTo("#list-province-table tr[data-id=1]")}function createTablePositionTwo(n){var r,i,t;for($("#list-position-table tbody").html(""),r="",i=jQuery.parseJSON(n),r+="<tr><td align='left'>",t=0;t<i.length;t++)r+='<a href="javascript:;" style="margin-left:20px;display: inline-block;width:200px;" data-id="'+i[t].Id+'" onclick="positionItemClick(\''+i[t].Id+"','"+i[t].Name+"')\">"+i[t].Name+"<\/a>";r+="<\/td><\/tr>";$(r).appendTo("#list-position-table tbody")}function createTablePositionMulti(n,t,i){var f,u,r;for($("#list-"+i+"-table tbody").html(""),f="",u=jQuery.parseJSON(n),f+="<tr><td align='left'>",r=0;r<u.length;r++)f+='<label data-id="'+u[r].Id+'" style="margin-left:20px;font-size:14px;display: inline-block;width:230px;font-weight: 100;"><input type="checkbox" onclick="setJob(this,\''+i+'\')" data-id="'+u[r].Id+'" data-pid="'+u[r].ParentId+'" />'+u[r].Name+"<\/label>";$(f).appendTo("#list-"+i+"-table tbody")}function setJob(n,t,i){i==undefined?$(n).prop("checked")==!0?$(n).parent().css("color","#f0ad4e"):$(n).parent().css("color","#000"):i==!0?($(n).prop("checked",!0),$(n).parent().css("color","#f0ad4e")):($(n).prop("checked",!1),$(n).parent().css("color","#000"));$("#list-"+t+"-table tr td :checkbox").each(function(){$(this).prop("checked")==!0?$("#Cur"+t+"Id").val().indexOf("{"+$(this).data("id")+"}")<0&&$("#Cur"+t+"Id").val($("#Cur"+t+"Id").val()+"{"+$(this).data("id")+"}"):$("#Cur"+t+"Id").val().indexOf("{"+$(this).data("id")+"}")>=0&&$("#Cur"+t+"Id").val($("#Cur"+t+"Id").val().replace("{"+$(this).data("id")+"}",""))})}function createTableIndustryMulti(n,t,i){var u,r,f;for($("#list-"+i+"-table tbody").html(""),u="",r=jQuery.parseJSON(n),f=0;f<r.length;f++)u+='<tr style="border:solid 1px #ccc" class="tr-industryA-'+r[f].Id+'" data-id="'+r[f].Id+'"><th width="180"><label style="font-size:16px;"><input type="checkbox" onclick="setIndustryA(this,\''+i+'\')" data-id="'+r[f].Id+'"  />'+r[f].Name+"<\/label><\/th><\/tr>";$(u).appendTo("#list-"+i+"-table tbody");u="";r=jQuery.parseJSON(t);$("#list-"+i+"-table tr[data-id]").each(function(n,t){u="";for(var f=0;f<r.length;f++)$(t).attr("data-id")==r[f].ParentId&&(u+='<label data-id="'+r[f].Id+'" style="margin-right:15px;font-size:16px;display: inline-block;font-weight: 100;"><input type="checkbox" onclick="setIndustry(this,\''+i+'\')" data-id="'+r[f].Id+'" data-pid="'+r[f].ParentId+'" />'+r[f].Name+"<\/label>");$("<td style='text-align:left;'>"+u+"<\/td>").appendTo("#list-"+i+"-table tr[data-id="+$(t).attr("data-id")+"]")})}function setIndustry(n,t,i){i==undefined?$(n).prop("checked")==!0?$(n).parent().css("color","#f0ad4e"):$(n).parent().css("color","#000"):i==!0?($(n).prop("checked",!0),$(n).parent().css("color","#f0ad4e")):($(n).prop("checked",!1),$(n).parent().css("color","#000"));$("#list-"+t+"-table tr td :checkbox").each(function(){$(this).prop("checked")==!0?$("#Cur"+t+"Id").val().indexOf("{"+$(this).data("id")+"}")<0&&$("#Cur"+t+"Id").val($("#Cur"+t+"Id").val()+"{"+$(this).data("id")+"}"):$("#Cur"+t+"Id").val().indexOf("{"+$(this).data("id")+"}")>=0&&$("#Cur"+t+"Id").val($("#Cur"+t+"Id").val().replace("{"+$(this).data("id")+"}",""))})}function setIndustryA(n,t){var i=$(n).data("id");$(n).prop("checked")==!0?$("#list-"+t+"-table tr td :checkbox").each(function(){i==$(this).data("pid")&&setJob(this,t,!0)}):$("#list-"+t+"-table tr td :checkbox").each(function(){i==$(this).data("pid")&&setJob(this,t,!1)})}function createTableCityMulti(n,t,i){var u,r,f;for($("#list-"+i+"-table tbody").html(""),u="",r=jQuery.parseJSON(n),f=0;f<r.length;f++)u+='<tr style="border:solid 1px #ccc" class="tr-industryA-'+r[f].Id+'" data-id="'+r[f].Id+'"><th width="180"><label style="font-size:16px;"><input type="checkbox" onclick="setCityA(this,\''+i+'\')" data-id="'+r[f].Id+'"  />'+r[f].Name+"<\/label><\/th><\/tr>";$(u).appendTo("#list-"+i+"-table tbody");u="";r=jQuery.parseJSON(t);$("#list-"+i+"-table tr[data-id]").each(function(n,t){u="";for(var f=0;f<r.length;f++)$(t).attr("data-id")==r[f].ParentId&&(u+='<label data-id="'+r[f].Id+'" style="margin-right:15px;font-size:16px;display: inline-block;font-weight: 100;"><input type="checkbox" onclick="setCity(this,\''+i+'\')" data-name="'+r[f].Name+'" data-id="'+r[f].Id+'" data-pid="'+r[f].ParentId+'" />'+r[f].Name+"<\/label>");$("<td style='text-align:left;'>"+u+"<\/td>").appendTo("#list-"+i+"-table tr[data-id="+$(t).attr("data-id")+"]")})}function setCity(n,t,i){i==undefined?$(n).prop("checked")==!0?$(n).parent().css("color","#f0ad4e"):$(n).parent().css("color","#000"):i==!0?($(n).prop("checked",!0),$(n).parent().css("color","#f0ad4e")):($(n).prop("checked",!1),$(n).parent().css("color","#000"));$("#list-"+t+"-table tr td :checkbox").each(function(){$(this).prop("checked")==!0?$("#Cur"+t).val().indexOf("{"+$(this).parent().text()+"}")<0&&$("#Cur"+t).val($("#Cur"+t).val()+"{"+$(this).parent().text()+"}"):$("#Cur"+t).val().indexOf("{"+$(this).parent().text()+"}")>=0&&$("#Cur"+t).val($("#Cur"+t).val().replace("{"+$(this).parent().text()+"}",""))})}function setCityA(n,t){var i=$(n).data("id");$(n).prop("checked")==!0?$("#list-"+t+"-table tr td :checkbox").each(function(){i==$(this).data("pid")&&setJob(this,t,!0)}):$("#list-"+t+"-table tr td :checkbox").each(function(){i==$(this).data("pid")&&setJob(this,t,!1)})}(function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return typeof i=="function"?i:(t.push(n),Function.constructor.apply(null,t))}function u(n){return n==="GET"||n==="POST"}function o(n,t){u(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function s(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){var f;switch(u){case"BEFORE":f=r.firstChild;n("<div />").html(i).contents().each(function(){r.insertBefore(this,f)});break;case"AFTER":n("<div />").html(i).contents().each(function(){r.appendChild(this)});break;case"REPLACE-WITH":n(r).replaceWith(i);break;default:n(r).html(i)}}))}function f(t,r){var e,h,f,c;(e=t.getAttribute("data-ajax-confirm"),!e||window.confirm(e))&&(h=n(t.getAttribute("data-ajax-loading")),c=parseInt(t.getAttribute("data-ajax-loading-duration"),10)||0,n.extend(r,{type:t.getAttribute("data-ajax-method")||undefined,url:t.getAttribute("data-ajax-url")||undefined,cache:!!t.getAttribute("data-ajax-cache"),beforeSend:function(n){var r;return o(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(t,arguments),r!==!1&&h.show(c),r},complete:function(){h.hide(c);i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(t,arguments)},success:function(n,r,u){s(t,n,u.getResponseHeader("Content-Type")||"text/html");i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(t,arguments)},error:function(){i(t.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(t,arguments)}}),r.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=r.type.toUpperCase(),u(f)||(r.type="POST",r.data.push({name:"X-HTTP-Method-Override",value:f})),n.ajax(r))}function h(t){var i=n(t).data(e);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",r="unobtrusiveAjaxClickTarget",e="unobtrusiveValidation";n(document).on("click","a[data-ajax=true]",function(n){n.preventDefault();f(this,{url:this.href,type:"GET",data:[]})});n(document).on("click","form[data-ajax=true] input[type=image]",function(i){var r=i.target.name,u=n(i.target),f=n(u.parents("form")[0]),e=u.offset();f.data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]);setTimeout(function(){f.removeData(t)},0)});n(document).on("click","form[data-ajax=true] :submit",function(i){var f=i.currentTarget.name,e=n(i.target),u=n(e.parents("form")[0]);u.data(t,f?[{name:f,value:i.currentTarget.value}]:[]);u.data(r,e);setTimeout(function(){u.removeData(t);u.removeData(r)},0)});n(document).on("submit","form[data-ajax=true]",function(i){var e=n(this).data(t)||[],u=n(this).data(r),o=u&&u.hasClass("cancel");(i.preventDefault(),o||h(this))&&f(this,{url:this.action,type:this.method||"GET",data:e.concat(n(this).serializeArray())})})})(jQuery)